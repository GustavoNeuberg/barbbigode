<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barber Shop</title>
    <link rel="stylesheet" href="barber.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Sora:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
    <div class="box">
        <section class="hero-section">
            <header class="navbar container" data-aos="fade-down" data-aos-delay="400">
                <div class="logo">
                    <img data-aos="flip-up" data-aos-delay="400" data-aos-duration="1500" src="assets/logo bc.png" alt="Logo da Barbearia">
                </div>
                <nav class="nav-icons">
                    <a href="https://www.instagram.com/barbeariacentraltaubate"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                </nav>
            </header>
            <section class="hero" data-aos="fade-up">
                <h1>ESTILO É UM REFLEXO DA SUA ATITUDE E SUA PERSONALIDADE</h1>
                <p>Horário: 9h às 20h</p>
                <a class="btn" href="#" id="btn-agendar">Agende seu Horário</a>
            </section>
        </section>

        <!-- Seção de agendamento OCULTA -->
        <section class="agendamento container" data-aos="fade-up" style="display:none;">
            <h2>Agende Seu Horário</h2>
            <!-- Nome do cliente -->
            <div class="form-group">
                <label for="nome">Seu Nome:</label>
                <input type="text" id="nome" placeholder="Digite seu nome" />
            </div>

            <!-- Escolha do barbeiro -->
            <div class="form-group">
                <label for="barbeiro">Escolha o Barbeiro:</label>
                <select id="barbeiro">
                    <option value="">Selecione</option>
                    <option value="João">João</option>
                    <option value="Pedro">Pedro</option>
                    <option value="Marcos">Marcos</option>
                </select>
            </div>

            <!-- Escolha da data -->
            <div class="form-group">
                <label for="data">Escolha a Data:</label>
                <input type="text" id="data" placeholder="Selecione a data" />
            </div>

            <!-- Horários -->
            <div class="form-group">
                <label>Horários Disponíveis:</label>
                <div id="horarios" class="horarios-grid"></div>
            </div>

            <!-- Botão de confirmar -->
            <button id="confirmar" class="btn-agendar" disabled>Confirmar pelo WhatsApp</button>
        </section>

        <!-- Outras seções omitidas para brevidade (About, Services, Location, Footer) -->

        <!-- Feedback Visual -->
        <div id="feedback-overlay" class="feedback-overlay" style="display:none;">
            <div class="feedback-content">
                <i class="fas fa-check-circle"></i>
                <p>Confirme no WhatsApp!</p>
            </div>
        </div>

        <a href="https://wa.me/5512988943766" class="whatsapp-button" target="_blank" aria-label="WhatsApp">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>
    <section class="services container">
            <h2>Serviços</h2>
            <div class="service-cards">
                <div class="card" data-aos="fade-right">
                    <img src="assets/corte1.png" alt="Corte de Cabelo">
                    <div class="card-info">
                        <strong>Corte de Cabelo</strong>
                        <span>Estilo, precisão e atitude: seu corte perfeito</span>
                    </div>
                </div>
                <div class="card" data-aos="fade-left">
                    <img src="assets/corte2.png" alt="Barba">
                    <div class="card-info">
                        <strong>Barba</strong>
                        <span>Barba bem feita, estilo garantido</span>
                    </div>
                </div>
                <div class="card" data-aos="fade-right">
                    <img src="assets/corte3.png" alt="Corte Cabelo e Barba">
                    <div class="card-info">
                        <strong>Corte Cabelo e Barba</strong>
                        <span>Cabelo e barba impecáveis: transforme seu visual</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="location" data-aos="fade-up">
            <h2>Venha nos conhecer</h2>
            <iframe src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3671.8356589889136!2d-45.556963824686036!3d-23.02980557916872!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMjPCsDAxJzQ3LjMiUyA0NcKwMzMnMTUuOCJX!5e0!3m2!1spt-BR!2sbr!4v1746456233657!5m2!1spt-BR!2sbr" width="100%" height="auto" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </section>

        <footer class="footer">
            <div class="footer-content container">
                <img class="footer-img" src="assets/logo bc.png" alt="Logo Barbearia" class="footer-logo">
                <nav class="footer-icons">
                    <a href="https://www.instagram.com/barbeariacentraltaubate"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                </nav>
            </div>
            <p>&copy; 2025 Todos os direitos reservados.</p>
        </footer>

        <a href="https://wa.me/5547991447298" class="whatsapp-button" target="_blank" aria-label="WhatsApp">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>AOS.init();</script>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>AOS.init();</script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
    const barbeiroSelect = document.getElementById('barbeiro');
    const dataInput = document.getElementById('data');
    const horariosDiv = document.getElementById('horarios');
    const confirmarBtn = document.getElementById('confirmar');
    const btnAgendar = document.getElementById('btn-agendar');
    const secaoAgendamento = document.querySelector('.agendamento');
    let horarioSelecionado = '';

    // Mostrar a seção quando clicar
    btnAgendar.addEventListener('click', (e) => {
        e.preventDefault();
        secaoAgendamento.style.display = 'block';
        secaoAgendamento.scrollIntoView({ behavior: 'smooth' });
    });

    // Inicializa o calendário Flatpickr
    flatpickr("#data", {
        dateFormat: "d/m/Y",
        minDate: "today",
        disable: [
            function(date) {
                // Desabilita domingos
                return (date.getDay() === 0);
            }
        ],
        locale: {
            firstDayOfWeek: 1 // Começa na segunda-feira
        },
        onChange: function() {
            gerarHorarios();
            validar();
        }
    });

    // Gera horários disponíveis
    function gerarHorarios() {
        horariosDiv.innerHTML = '';
        const horarios = ["09:00","09:30","10:00","10:30","11:00","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30", "20:00"];
        
        horarios.forEach(hora => {
            const btn = document.createElement('button');
            btn.type = 'button';
            btn.textContent = hora;
            btn.addEventListener('click', () => {
                document.querySelectorAll('.horarios-grid button').forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                horarioSelecionado = hora;
                validar();
            });
            horariosDiv.appendChild(btn);
        });
    }

    // Valida se todos os campos estão preenchidos
    function validar() {
        const nome = document.getElementById('nome').value.trim();
        if (nome && barbeiroSelect.value && dataInput.value && horarioSelecionado) {
            confirmarBtn.disabled = false;
            confirmarBtn.classList.add('ativo');
        } else {
            confirmarBtn.disabled = true;
            confirmarBtn.classList.remove('ativo');
        }
    }

    // Atualiza ao mudar nome, barbeiro ou data
    document.getElementById('nome').addEventListener('input', validar);
    barbeiroSelect.addEventListener('change', validar);
    dataInput.addEventListener('change', validar);

    // Função principal do botão de confirmação
    confirmarBtn.addEventListener('click', (e) => {
        e.preventDefault();
        
        const nome = document.getElementById('nome').value.trim();
        const barbeiro = barbeiroSelect.value;
        const data = dataInput.value;

        // Validação final
        if (!nome || !barbeiro || !data || !horarioSelecionado) {
            alert("Por favor, preencha todos os campos corretamente.");
            return;
        }

        // Cria a mensagem para o WhatsApp
        const mensagem = `*AGENDAMENTO BARBEARIA CENTRAL*\n\n` +
                        `*Nome:* ${nome}\n` +
                        `*Barbeiro:* ${barbeiro}\n` +
                        `*Data:* ${data}\n` +
                        `*Horário:* ${horarioSelecionado}\n\n` +
                        `Confirmo meu agendamento para esta data e horário.`;

        // Codifica a mensagem para URL
        const mensagemCodificada = encodeURIComponent(mensagem);
        const linkWhatsApp = `https://wa.me/5547991447298?text=${mensagemCodificada}`;

        // Mostra feedback visual
        const overlay = document.getElementById('feedback-overlay');
        overlay.style.display = 'flex';

        // Redireciona diretamente para o WhatsApp
        // Solução que funciona em desktop e mobile
        if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            // Dispositivo móvel - abre na mesma aba
            window.location.href = linkWhatsApp;
        } else {
            // Desktop - abre nova aba
            window.open(linkWhatsApp, '_blank');
        }

        // Esconde o overlay após 2 segundos (caso o redirecionamento falhe)
        setTimeout(() => {
            overlay.style.display = 'none';
        }, 2000);
    });
});
    </script>
</body>
</html>
